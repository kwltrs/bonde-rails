/*! bonde - v0.0.3 - 2013-03-26
* https://github.com/kwltrs/bonde
* Copyright (c) 2013 Kristofer Walters; Licensed MIT */
var Bonde=this.Bonde||{};(function(t,n){"use strict";function e(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}t.AttributeHolder=function(){function t(t,n,e,o){for(var i=t.changeListeners,r=0,u=i.length;u>r;r++)i[r].call(t,n,e,o)}function n(){this.values={},this.changeListeners=[]}return n.prototype.get=function(t){return this.values[t]},n.prototype.set=function(n,e){var o=this.values[n];this.values[n]=e,t(this,n,e,o)},n.prototype.on=function(t,n){"change"==t&&this.changeListeners.push(n)},n}(),t.ModuleContext=function(){function o(t){t.$("[data-attach-to]").each(function(){var e=n(this),o=e.data("attach-to");i(t,o,e)})}function i(t,n,e){t["$"+n]=e,t[n]=e.get(0),t.attr.set(n,e.text()),t.attr.on("change",function(t,o){t==n&&e.text(o)})}function r(e){this.$el=n(e),this.el=this.$el.get(0),this.options=this.$el.data(),this.attr=new t.AttributeHolder,o(this)}return r.prototype.$=function(t){return this.$el.find(t)},r.prototype.attach=function(t,n){var e=this.$(n);e.length>0&&i(this,t,e)},r.prototype.mixin=function(t){e(this,t)},r}();var o=[];t.registerModule=function(t,n){o[t]=n},t.registerModules=function(t){e(o,t)},t.reset=function(){o=[]},t.applyModule=function(n,e){if(o[n]){var i=new t.ModuleContext(e);return o[n].call(i),i}},t.scanForModules=function(e){n(e).find("[data-module]").each(function(){var e=n(this).data("module");t.applyModule(e,this)})}})(Bonde,jQuery);