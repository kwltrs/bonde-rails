/*! bonde - v0.0.7 - 2013-10-31
* https://github.com/kwltrs/bonde
* Copyright (c) 2013 Kristofer Walters; Licensed MIT */
var Bonde=this.Bonde||{};jQuery.fn.reverse=[].reverse,function(a,b){"use strict";function c(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}a.AttributeHolder=function(){function a(a,b,c,d){for(var e=a.changeListeners,f=0,g=e.length;g>f;f++)e[f].call(a,b,c,d)}function b(){this.values={},this.changeListeners=[]}return b.prototype.get=function(a){return this.values[a]},b.prototype.set=function(b,c){var d=this.values[b];this.values[b]=c,a(this,b,c,d)},b.prototype.on=function(a,b){"change"==a&&this.changeListeners.push(b)},b}(),a.ModuleContext=function(){function d(a){a.$("[data-attach-to]").each(function(){var c=b(this),d=c.data("attach-to");c.data("module")?a[d]=function(){return c.data("bondeModuleContext")}:e(a,d,c)})}function e(a,b,c){a["$"+b]=c,a[b]=c.get(0),a.attr.set(b,c.text()),a.attr.on("change",function(a,d){a==b&&c.text(d)})}function f(c){this.$el=b(c),this.el=this.$el.get(0),this.options=this.$el.data(),this.attr=new a.AttributeHolder,this.$el.data("bondeModuleContext",this),this.$el.bondeModule=function(){return this.data("bondeModuleContext")},d(this)}return f.prototype.$=function(a){return this.$el.find(a)},f.prototype.attach=function(a,b){var c=this.$(b);c.length>0&&e(this,a,c)},f.prototype.mixin=function(a){return c(this,a),this},f}();var d={};a.registerModule=function(a,b){d[a]=b},a.registerModules=function(a){c(d,a)},a.reset=function(){d=[]},a.applyModule=function(b,c){if(d[b]){var e=new a.ModuleContext(c);return d[b].call(e),e}},a.scanForModules=function(c){var d=b(c).find("[data-module]");c.hasAttribute&&c.hasAttribute("data-module")&&d.push(c),d.reverse().each(function(){var c=b(this).data("module");a.applyModule(c,this)})}}(Bonde,jQuery);